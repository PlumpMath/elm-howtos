<p><!DOCTYPE html>
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Installing Elm on Ubuntu</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body></p>

<h1>Installing Elm on Ubuntu</h1>

<p>These instructions are what I used to install <a href="http://elm-lang.org">Elm</a> on Ubuntu 14.04 (Trusty Tahr) Your mileage may definitely vary. These instructions are written for a user named <code>you</code>.</p>

<h2>Haskell</h2>

<p>You will want to install the <a href="http://haskell.org">Haskell</a> compiler and <a href="https://www.haskell.org/cabal/">Cabal</a>, the Common Architecture for Building Applications and Libraries:</p>

<pre><code>you@localhost:~$ sudo apt-get install ghc cabal-install
</code></pre>

<p>For Ubuntu 14.04, the Haskell compiler (<code>ghc</code>) is sufficiently new, but <code>cabal</code> is not the latest and greatest version.</p>

<pre><code>you@localhost:~$ ghc --version
The Glorious Glasgow Haskell Compilation System, version 7.6.3
you@localhost:~$ cabal --version
cabal-install version 1.16.0.2
</code></pre>

<p>First, update the list of packages available to install:</p>

<pre><code>you@localhost:~$ cabal update
Config file path source is default config file.
Config file /home/you/.cabal/config not found.
Writing default configuration to /home/you/.cabal/config
Downloading the latest package list from hackage.haskell.org
</code></pre>

<p>In order to make the latest version of cabal available to all users, install it to <code>/usr/local</code>:</p>

<pre><code>you@localhost:~$ sudo cabal install cabal-install --prefix=/usr/local
*much output which I won&amp;rsquo;t reproduce here*
Installing executable(s) in /usr/local/bin
Installed cabal-install-1.20.3
</code></pre>

<p>Note: You may need to have the <code>zlib1</code> package installed in order to build properly. On my system, the packages were <code>zlib1g</code> and <code>zlib1g-dev</code>.</p>

<p>After the install is finished, close your terminal, open it again, and check the version. If <code>/usr/local/bin</code> is on your <code>$PATH</code> before <code>/usr/bin</code>, you should get results like this:</p>

<pre><code>you@localhost:~$ cabal --version
cabal-install version 1.20.0.3
using version 1.20.0.2 of the Cabal Library
</code></pre>

<p>Since you did the install with <code>sudo</code>, the <code>$HOME/.cabal</code> directory may have some files marked as owned by the root user. Fix this by doing the following (replacing <code>you</code> with your user name). Then, as yourself, again make sure you have the latest packages.</p>

<pre><code>you@localhost:~$ sudo chown -R you:you /home/you/.cabal
you@localhost:~$ cabal update
</code></pre>

<h2>git</h2>

<p>You will also need the <code>git</code> version control system, as the build process downloads the source from <a href="https://github.com">github</a>:</p>

<pre><code>you@locatlhost:~$ sudo apt-get install git
</code></pre>

<h2>nodejs</h2>

<p>If you want to use the Elm REPL, you will need node.js. On Ubuntu, you do this:</p>

<pre><code>you@localhost:~$ sudo apt-get install nodejs
</code></pre>

<p>The interpreter on Ubuntu is called <code>nodejs</code> because there is already a package named <code>node</code>, which happens to be an Amateur Packet Radio Node program. Thus, you will have to let the REPL know this new name. In a file named <code>~/.bash_aliases</code>, add this line:</p>

<pre><code>elm-repl='elm-repl --interpreter=node-js'
</code></pre>

<p>To activate this alias without having to log out and log in again, do this:</p>

<pre><code>you@localhost:~$ source ~/.bash_aliases
</code></pre>

<p>(If you don&rsquo;t want to create the alias, you will have to type the <code>--interpreter=nodejs</code> every time you run the REPL. Your choice.)</p>

<h2>Building Elm</h2>

<p>Download the <code>BuildFromSource.hs</code> script from <a href="https://raw.githubusercontent.com/elm-lang/elm-platform/master/src/BuildFromSource.hs"><code>https://raw.githubusercontent.com/elm-lang/elm-platform/master/src/BuildFromSource.hs</code></a>.</p>

<p>Now, open a shell as the root user and check to see that <code>/usr/local/bin</code> is on the <code>$PATH</code>, because you will need the proper version of <code>cabal</code>.</p>

<pre><code>you@localhost:~$ sudo -s
root@localhost:~# echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
</code></pre>

<p>If it isn&rsquo;t there, do this command:</p>

<pre><code>root@localhost!# export PATH=/usr/local/bin:$PATH
</code></pre>

<p>The following commands will create a directory named <code>Elm-Platform</code> and install the version of Elm found on github&rsquo;s master branch; it presumes that the <code>BuildFromSource.hs</code> script is in your home directory:</p>

<pre><code>root@localhost:~# cd /usr/local
root@localhost:/usr/local# runhaskell /home/you/BuildFromSource.hs master
</code></pre>

<p>Now, you must add the correct directory to your <code>$PATH</code>. Edit your <code>~/.profile</code> and add this line at the end:</p>

<pre><code>PATH=$PATH:/usr/local/Elm-Platform/master/bin
</code></pre>

<p>You will have to log out and log in again for this to take effect.</p>

<h2>Using Elm</h2>

<p>At this point, try these commands to see that everything is installed correctly:</p>

<pre><code>you@localhost:~$ elm-package --help
you@localhost:~$ elm-repl --help
you@localhost:~$ elm-make --help
</code></pre>

<h2>Your First Project</h2>

<p>Create a directory named <code>project1</code> and <code>cd</code> into it:</p>

<pre><code>you@localhost:~$ mkdir project1
you@localhost:~$ cd project1
</code></pre>

<p>Then create a file named <code>project1.elm</code> with these contents, using your favorite text editor:</p>

<pre><code>import Text (..)
import Graphics.Element (..)
import Graphics.Collage (..)
import Color (..)

main : Element

main = collage 200 200 [
    filled (rgb 102 51 153) (circle 50),
    toForm (plainText "Elm")
    ]
</code></pre>

<p>Now build the project with output to a file named <code>project1.html</code>. The first time you build your project, <code>elm-make</code> will detect packages you need and ask you if you want them. You don&rsquo;t get the question after the first build, unless you need other packages.</p>

<pre><code>you@localhost:~/project1$ elm-make --output project1.html project1.elm
Some new packages are needed. Here is the upgrade plan.

Install:
    elm-lang/core 1.0.0

Do you approve of this plan? (y/n) y
Packages configured successfully!
Compiled 33 files                                                   
Successfully generated project1.html
you@localhost:~/project1$ ls
elm-package.json  elm-stuff  project1.elm  project1.html
</code></pre>

<p>Load the project1.html file into your browser, and you should see something like this:</p>

<p><img src="project1_screenshot.png" alt="Word 'Elm' inside purple circle" title="" /></p>

<p>Now explore the examples and documentation at <a href="http://elm-lang.org/">the Elm web site</a> and make really cool stuff!</p>

<h2>Note: Installing on Fedora</h2>

<p>The same sequence will work on Fedora 19 (the version on which I tested it); the only changes are to use <code>yum</code> instead of <code>apt-get</code>, and you do not need to put in the alias for <code>elm-repl</code>, as Fedora uses the name <code>node</code> for Node.js.</p>

<p></body>
</html></p>
